<!DOCTYPE html>
<html lang="nl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Infofrankrijk – Wegwijzer</title>

<style>
:root{
  --rood:#800000;
  --rood-licht:rgba(128,0,0,.22);
  --shadow:0 18px 40px rgba(0,0,0,.18);

  /* schaal (geen scroll, altijd 2 kolommen) */
  --flower: clamp(280px, 34vw, 420px);
  --petal:  clamp(92px,  10.5vw, 120px);
}

*{box-sizing:border-box}

html,body{
  margin:0;
  height:100%;
  background:transparent;
  font-family:Mulish,system-ui,sans-serif;
  overflow:hidden; /* nooit scroll */
}

/* buiten het paneel: niets zichtbaar */
.overlay{
  position:fixed;
  inset:0;
  background:transparent;
  display:flex;
  align-items:center;
  justify-content:center;
}

/* één tegel (één paneel) */
.panel{
  width:min(1200px, 94vw);
  height:min(720px, 82vh);
  background:#fff;
  border-radius:22px;
  box-shadow:var(--shadow);
  overflow:hidden;
  display:grid;
  grid-template-columns: calc(var(--flower) + 40px) 1fr; /* links bloem, rechts links */
  gap:44px;
  padding:40px;
  align-items:center;
}

/* LINKS: bloem */
.bloem{
  position:relative;
  width:var(--flower);
  height:var(--flower);
}

.petal{
  position:absolute;
  width:var(--petal);
  height:var(--petal);
  border-radius:50%;
  background:var(--rood-licht);
  color:var(--rood); /* inactief: tekst #800000 */
  font-family:Poppins,system-ui,sans-serif;
  font-weight:700;
  display:flex;
  align-items:center;
  justify-content:center;
  text-align:center;
  user-select:none;
  cursor:pointer;
  box-shadow:0 14px 32px rgba(0,0,0,.14);
  transition:background .2s ease, color .2s ease, transform .2s ease, box-shadow .2s ease;
}

.petal.active{
  background:var(--rood); /* actief: vol #800000 */
  color:#fff;             /* actief: wit */
  transform:scale(1.06);
  box-shadow:0 18px 42px rgba(0,0,0,.20);
}

/* vaste posities zonder transform-positionering */
.p1{ left:50%; top:0%;   transform:translate(-50%, 0); }
.p2{ right:0%; top:25%;  transform:translate(0, -50%); }
.p3{ right:0%; top:75%;  transform:translate(0, -50%); }
.p4{ left:50%; top:100%; transform:translate(-50%, -100%); }
.p5{ left:0%;  top:75%;  transform:translate(0, -50%); }
.p6{ left:0%;  top:25%;  transform:translate(0, -50%); }

/* RECHTS: level 3 (alle links) */
.side{
  height:100%;
  display:flex;
  align-items:center;
  overflow:hidden;
}

.links{
  width:100%;
  display:grid;
  grid-template-columns:repeat(2, minmax(0, 1fr)); /* alle links, reflowt horizontaal */
  gap:14px 18px;
  overflow:hidden;
}

/* tegel per link (subtiel) */
.link{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:14px;
  padding:16px 18px;
  border-radius:14px;
  border:1px solid #eee;
  background:#fff;
  color:var(--rood);
  font-weight:700;

  opacity:0;
  transform:translateY(8px);               /* enige dynamiek */
  animation:fadeUp .34s ease forwards;
}

@keyframes fadeUp{
  to{opacity:1;transform:none}
}

/* klein vierkantje met pijltje ↗ */
.go{
  flex:0 0 auto;
  width:28px;
  height:28px;
  border-radius:7px;
  border:1.5px solid var(--rood);
  color:var(--rood);
  display:inline-flex;
  align-items:center;
  justify-content:center;
  text-decoration:none;
  font-size:14px;
  line-height:1;
}

/* zeer smal: behoud 2 kolommen door level-3 naar 1 kolom te zetten (geen stacking van bloem/links) */
@media (max-width: 980px){
  .panel{
    gap:28px;
    padding:24px;
    grid-template-columns: calc(var(--flower) + 20px) 1fr;
  }
  .links{ grid-template-columns: 1fr; }
}
</style>
</head>

<body>
<div class="overlay" id="overlay">
  <div class="panel" id="panel" role="dialog" aria-label="Infofrankrijk Wegwijzer">
    <div class="bloem" aria-label="Thema's">
      <div class="petal p1" data-key="wonen">Wonen</div>
      <div class="petal p2" data-key="leven">Leven</div>
      <div class="petal p3" data-key="leren">Leren</div>
      <div class="petal p4" data-key="werken">Werken</div>
      <div class="petal p5" data-key="verbouwen">Verbouwen</div>
      <div class="petal p6" data-key="migreren">Migreren</div>
    </div>

    <div class="side">
      <div class="links" id="links" aria-label="Links"></div>
    </div>
  </div>
</div>

<script>
const data = {
  wonen: [
    ["Wonen in Frankrijk","https://infofrankrijk.com/categorie/wonen-in-frankrijk/"],
    ["Vastgoed","https://infofrankrijk.com/categorie/vastgoed/"],
    ["Huisje, boompje & beestje","https://infofrankrijk.com/categorie/huisje-boompje-beestje/"],
    ["Cultuur & info","https://infofrankrijk.com/categorie/cultuur-info/"]
  ],
  leven: [
    ["Zorg & welzijn","https://infofrankrijk.com/categorie/zorg-welzijn/"],
    ["Geldzaken & belasting","https://infofrankrijk.com/categorie/geldzaken-belasting/"],
    ["Juridisch & familie","https://infofrankrijk.com/categorie/juridisch-familie/"]
  ],
  leren: [
    ["Onderwijs & cursussen","https://infofrankrijk.com/categorie/onderwijs-cursussen/"]
  ],
  werken: [
    ["Arbeidsmarkt","https://infofrankrijk.com/categorie/arbeidsmarkt/"],
    ["Ondernemen","https://infofrankrijk.com/categorie/ondernemen/"],
    ["Toerisme","https://infofrankrijk.com/categorie/toerisme-sector/"]
  ],
  verbouwen: [
    ["Planning & regels","https://infofrankrijk.com/categorie/planning-regels/"],
    ["Techniek & installatie","https://infofrankrijk.com/categorie/techniek-installatie/"],
    ["Constructie","https://infofrankrijk.com/categorie/constructie/"]
  ],
  migreren: [
    ["Overheden","https://infofrankrijk.com/categorie/overheden/"],
    ["Emigratie","https://infofrankrijk.com/categorie/emigratie/"],
    ["Remigratie","https://infofrankrijk.com/categorie/remigratie/"]
  ]
};

const petals = [...document.querySelectorAll(".petal")];
const linksEl = document.getElementById("links");

function renderLinks(key){
  const items = data[key] || [];
  linksEl.innerHTML = "";
  items.forEach(([t,u], i) => {
    const d = document.createElement("div");
    d.className = "link";
    d.style.animationDelay = (i * 0.05) + "s";
    d.innerHTML = `<span>${t}</span><a class="go" href="${u}" target="_blank" rel="noopener" aria-label="Open ${t}">↗</a>`;
    linksEl.appendChild(d);
  });
}

petals.forEach(p => {
  p.addEventListener("click", () => {
    petals.forEach(x => x.classList.remove("active"));
    p.classList.add("active");
    renderLinks(p.dataset.key); /* ALLE level-3 links */
  });
});

/* sluiten: klik buiten het ENIGE paneel (alles in één keer dicht) */
document.getElementById("overlay").addEventListener("click", (e) => {
  if (!document.getElementById("panel").contains(e.target)) {
    document.getElementById("overlay").style.display = "none";
  }
});
</script>
</body>
</html>
